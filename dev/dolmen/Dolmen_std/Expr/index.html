<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Expr (dolmen.Dolmen_std.Expr)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">dolmen</a> &#x00BB; <a href="../index.html">Dolmen_std</a> &#x00BB; Expr</nav><h1>Module <code>Dolmen_std.Expr</code></h1><nav class="toc"><ul><li><a href="#type-definitions">Type definitions</a><ul><li><a href="#common-definitions">Common definitions</a></li><li><a href="#type-definitions">Type definitions</a></li></ul></li><li><a href="#exceptions">Exceptions</a></li><li><a href="#native-tags">Native Tags</a></li><li><a href="#printing">Printing</a></li><li><a href="#substitutions">Substitutions</a></li><li><a href="#identifiers">Identifiers</a></li><li><a href="#types">Types</a></li><li><a href="#terms">Terms</a></li></ul></nav></header><section><header><h3 id="type-definitions"><a href="#type-definitions" class="anchor"></a>Type definitions</h3></header><section><header><h4 id="common-definitions"><a href="#common-definitions" class="anchor"></a>Common definitions</h4></header><dl><dt class="spec type" id="type-hash"><a href="#type-hash" class="anchor"></a><code><span class="keyword">type</span> hash</code><code> = <span class="keyword">private</span> int</code></dt><dt class="spec type" id="type-index"><a href="#type-index" class="anchor"></a><code><span class="keyword">type</span> index</code><code> = <span class="keyword">private</span> int</code></dt><dt class="spec type" id="type-tag"><a href="#type-tag" class="anchor"></a><code><span class="keyword">type</span> <span>'a tag</span></code><code> = <span><span class="type-var">'a</span> <a href="../Tag/index.html#type-t">Tag.t</a></span></code></dt></dl></section><section><header><h4 id="type-definitions"><a href="#type-definitions" class="anchor"></a>Type definitions</h4></header><dl><dt class="spec type" id="type-builtin"><a href="#type-builtin" class="anchor"></a><code><span class="keyword">type</span> builtin</code><code> = <span>&lt; ty : <a href="index.html#type-ty">ty</a>; ty_var : <a href="index.html#type-ty_var">ty_var</a>; ty_cst : <a href="index.html#type-ty_cst">ty_cst</a>; term : <a href="index.html#type-term">term</a>; term_var : <a href="index.html#type-term_var">term_var</a>; term_cst : <a href="index.html#type-term_cst">term_cst</a>; &gt; <a href="../Builtin/index.html#type-t">Builtin.t</a></span></code></dt><dd><p>Extensible variant type for builtin operations.</p></dd></dl><dl><dt class="spec type" id="type-id"><a href="#type-id" class="anchor"></a><code><span class="keyword">and</span> <span>'ty id</span></code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-id.id_ty" class="anchored"><td class="def field"><a href="#type-id.id_ty" class="anchor"></a><code>id_ty : <span class="type-var">'ty</span>;</code></td></tr><tr id="type-id.index" class="anchored"><td class="def field"><a href="#type-id.index" class="anchor"></a><code>index : <a href="index.html#type-index">index</a>;</code></td><td class="doc"><p>unique index</p></td></tr><tr id="type-id.path" class="anchored"><td class="def field"><a href="#type-id.path" class="anchor"></a><code>path : <a href="../Path/index.html#type-t">Path.t</a>;</code></td></tr><tr id="type-id.builtin" class="anchored"><td class="def field"><a href="#type-id.builtin" class="anchor"></a><code>builtin : <a href="index.html#type-builtin">builtin</a>;</code></td></tr><tr id="type-id.tags" class="anchored"><td class="def field"><a href="#type-id.tags" class="anchor"></a><code><span class="keyword">mutable</span> tags : <a href="../Tag/index.html#type-map">Tag.map</a>;</code></td></tr></table><code>}</code></dt><dd><p>The type of identifiers. <code>'ty</code> is the type for representing the type of the id.</p></dd></dl><dl><dt class="spec type" id="type-type_"><a href="#type-type_" class="anchor"></a><code><span class="keyword">and</span> type_</code><code> = </code><table class="variant"><tr id="type-type_.Type" class="anchored"><td class="def constructor"><a href="#type-type_.Type" class="anchor"></a><code>| </code><code><span class="constructor">Type</span></code></td></tr></table></dt><dt class="spec type" id="type-type_fun"><a href="#type-type_fun" class="anchor"></a><code><span class="keyword">and</span> type_fun</code><code> = </code><code>{</code><table class="record"><tr id="type-type_fun.arity" class="anchored"><td class="def field"><a href="#type-type_fun.arity" class="anchor"></a><code>arity : int;</code></td></tr><tr id="type-type_fun.alias" class="anchored"><td class="def field"><a href="#type-type_fun.alias" class="anchor"></a><code><span class="keyword">mutable</span> alias : <a href="index.html#type-type_alias">type_alias</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-type_alias"><a href="#type-type_alias" class="anchor"></a><code><span class="keyword">and</span> type_alias</code><code> = </code><table class="variant"><tr id="type-type_alias.No_alias" class="anchored"><td class="def constructor"><a href="#type-type_alias.No_alias" class="anchor"></a><code>| </code><code><span class="constructor">No_alias</span></code></td></tr><tr id="type-type_alias.Alias" class="anchored"><td class="def constructor"><a href="#type-type_alias.Alias" class="anchor"></a><code>| </code><code><span class="constructor">Alias</span> <span class="keyword">of</span> </code><code>{</code><table class="record"><tr id="type-type_alias.alias_vars" class="anchored"><td class="def field"><a href="#type-type_alias.alias_vars" class="anchor"></a><code>alias_vars : <span><a href="index.html#type-ty_var">ty_var</a> list</span>;</code></td></tr><tr id="type-type_alias.alias_body" class="anchored"><td class="def field"><a href="#type-type_alias.alias_body" class="anchor"></a><code>alias_body : <a href="index.html#type-ty">ty</a>;</code></td></tr></table><code>}</code></td></tr></table></dt><dt class="spec type" id="type-ty_var"><a href="#type-ty_var" class="anchor"></a><code><span class="keyword">and</span> ty_var</code><code> = <span><a href="index.html#type-type_">type_</a> <a href="index.html#type-id">id</a></span></code></dt><dd><p>Abbreviation for type variables.</p></dd></dl><dl><dt class="spec type" id="type-ty_cst"><a href="#type-ty_cst" class="anchor"></a><code><span class="keyword">and</span> ty_cst</code><code> = <span><a href="index.html#type-type_fun">type_fun</a> <a href="index.html#type-id">id</a></span></code></dt><dd><p>Type symbols have the expected length of their argument encoded.</p></dd></dl><dl><dt class="spec type" id="type-ty_descr"><a href="#type-ty_descr" class="anchor"></a><code><span class="keyword">and</span> ty_descr</code><code> = </code><table class="variant"><tr id="type-ty_descr.TyVar" class="anchored"><td class="def constructor"><a href="#type-ty_descr.TyVar" class="anchor"></a><code>| </code><code><span class="constructor">TyVar</span> <span class="keyword">of</span> <a href="index.html#type-ty_var">ty_var</a></code></td><td class="doc"><p>Type variables</p></td></tr><tr id="type-ty_descr.TyApp" class="anchored"><td class="def constructor"><a href="#type-ty_descr.TyApp" class="anchor"></a><code>| </code><code><span class="constructor">TyApp</span> <span class="keyword">of</span> <a href="index.html#type-ty_cst">ty_cst</a> * <span><a href="index.html#type-ty">ty</a> list</span></code></td><td class="doc"><p>Application</p></td></tr><tr id="type-ty_descr.Arrow" class="anchored"><td class="def constructor"><a href="#type-ty_descr.Arrow" class="anchor"></a><code>| </code><code><span class="constructor">Arrow</span> <span class="keyword">of</span> <span><a href="index.html#type-ty">ty</a> list</span> * <a href="index.html#type-ty">ty</a></code></td><td class="doc"><p>Function type</p></td></tr><tr id="type-ty_descr.Pi" class="anchored"><td class="def constructor"><a href="#type-ty_descr.Pi" class="anchor"></a><code>| </code><code><span class="constructor">Pi</span> <span class="keyword">of</span> <span><a href="index.html#type-ty_var">ty_var</a> list</span> * <a href="index.html#type-ty">ty</a></code></td><td class="doc"><p>Type quantification</p></td></tr></table></dt><dd><p>Type descriptions.</p></dd></dl><dl><dt class="spec type" id="type-ty"><a href="#type-ty" class="anchor"></a><code><span class="keyword">and</span> ty</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-ty.ty_hash" class="anchored"><td class="def field"><a href="#type-ty.ty_hash" class="anchor"></a><code><span class="keyword">mutable</span> ty_hash : <a href="index.html#type-hash">hash</a>;</code></td></tr><tr id="type-ty.ty_tags" class="anchored"><td class="def field"><a href="#type-ty.ty_tags" class="anchor"></a><code><span class="keyword">mutable</span> ty_tags : <a href="../Tag/index.html#type-map">Tag.map</a>;</code></td></tr><tr id="type-ty.ty_descr" class="anchored"><td class="def field"><a href="#type-ty.ty_descr" class="anchor"></a><code><span class="keyword">mutable</span> ty_descr : <a href="index.html#type-ty_descr">ty_descr</a>;</code></td></tr><tr id="type-ty.ty_head" class="anchored"><td class="def field"><a href="#type-ty.ty_head" class="anchor"></a><code><span class="keyword">mutable</span> ty_head : <a href="index.html#type-ty">ty</a>;</code></td></tr></table><code>}</code></dt><dd><p>Types, which wrap type description with a memoized hash and some tags.</p></dd></dl><dl><dt class="spec type" id="type-term_var"><a href="#type-term_var" class="anchor"></a><code><span class="keyword">and</span> term_var</code><code> = <span><a href="index.html#type-ty">ty</a> <a href="index.html#type-id">id</a></span></code></dt><dd><p>Term variables</p></dd></dl><dl><dt class="spec type" id="type-term_cst"><a href="#type-term_cst" class="anchor"></a><code><span class="keyword">and</span> term_cst</code><code> = <span><a href="index.html#type-ty">ty</a> <a href="index.html#type-id">id</a></span></code></dt><dd><p>Term symbols, which encode their expected type and term argument lists lengths.</p></dd></dl><dl><dt class="spec type" id="type-pattern"><a href="#type-pattern" class="anchor"></a><code><span class="keyword">and</span> pattern</code><code> = <a href="index.html#type-term">term</a></code></dt><dd><p>patterns are simply terms</p></dd></dl><dl><dt class="spec type" id="type-term_descr"><a href="#type-term_descr" class="anchor"></a><code><span class="keyword">and</span> term_descr</code><code> = </code><table class="variant"><tr id="type-term_descr.Var" class="anchored"><td class="def constructor"><a href="#type-term_descr.Var" class="anchor"></a><code>| </code><code><span class="constructor">Var</span> <span class="keyword">of</span> <a href="index.html#type-term_var">term_var</a></code></td><td class="doc"><p>Variables</p></td></tr><tr id="type-term_descr.Cst" class="anchored"><td class="def constructor"><a href="#type-term_descr.Cst" class="anchor"></a><code>| </code><code><span class="constructor">Cst</span> <span class="keyword">of</span> <a href="index.html#type-term_cst">term_cst</a></code></td><td class="doc"><p>Constants</p></td></tr><tr id="type-term_descr.App" class="anchored"><td class="def constructor"><a href="#type-term_descr.App" class="anchor"></a><code>| </code><code><span class="constructor">App</span> <span class="keyword">of</span> <a href="index.html#type-term">term</a> * <span><a href="index.html#type-ty">ty</a> list</span> * <span><a href="index.html#type-term">term</a> list</span></code></td><td class="doc"><p>Application</p></td></tr><tr id="type-term_descr.Binder" class="anchored"><td class="def constructor"><a href="#type-term_descr.Binder" class="anchor"></a><code>| </code><code><span class="constructor">Binder</span> <span class="keyword">of</span> <a href="index.html#type-binder">binder</a> * <a href="index.html#type-term">term</a></code></td><td class="doc"><p>Binders</p></td></tr><tr id="type-term_descr.Match" class="anchored"><td class="def constructor"><a href="#type-term_descr.Match" class="anchor"></a><code>| </code><code><span class="constructor">Match</span> <span class="keyword">of</span> <a href="index.html#type-term">term</a> * <span><span>(<a href="index.html#type-pattern">pattern</a> * <a href="index.html#type-term">term</a>)</span> list</span></code></td><td class="doc"><p>Pattern matching</p></td></tr></table></dt><dd><p>Term descriptions.</p></dd></dl><dl><dt class="spec type" id="type-binder"><a href="#type-binder" class="anchor"></a><code><span class="keyword">and</span> binder</code><code> = </code><table class="variant"><tr id="type-binder.Let_seq" class="anchored"><td class="def constructor"><a href="#type-binder.Let_seq" class="anchor"></a><code>| </code><code><span class="constructor">Let_seq</span> <span class="keyword">of</span> <span><span>(<a href="index.html#type-term_var">term_var</a> * <a href="index.html#type-term">term</a>)</span> list</span></code></td></tr><tr id="type-binder.Let_par" class="anchored"><td class="def constructor"><a href="#type-binder.Let_par" class="anchor"></a><code>| </code><code><span class="constructor">Let_par</span> <span class="keyword">of</span> <span><span>(<a href="index.html#type-term_var">term_var</a> * <a href="index.html#type-term">term</a>)</span> list</span></code></td></tr><tr id="type-binder.Lambda" class="anchored"><td class="def constructor"><a href="#type-binder.Lambda" class="anchor"></a><code>| </code><code><span class="constructor">Lambda</span> <span class="keyword">of</span> <span><a href="index.html#type-ty_var">ty_var</a> list</span> * <span><a href="index.html#type-term_var">term_var</a> list</span></code></td></tr><tr id="type-binder.Exists" class="anchored"><td class="def constructor"><a href="#type-binder.Exists" class="anchor"></a><code>| </code><code><span class="constructor">Exists</span> <span class="keyword">of</span> <span><a href="index.html#type-ty_var">ty_var</a> list</span> * <span><a href="index.html#type-term_var">term_var</a> list</span></code></td></tr><tr id="type-binder.Forall" class="anchored"><td class="def constructor"><a href="#type-binder.Forall" class="anchor"></a><code>| </code><code><span class="constructor">Forall</span> <span class="keyword">of</span> <span><a href="index.html#type-ty_var">ty_var</a> list</span> * <span><a href="index.html#type-term_var">term_var</a> list</span></code></td></tr></table></dt><dd><p>Binders.</p></dd></dl><dl><dt class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><code><span class="keyword">and</span> term</code><code> = </code><code>{</code><table class="record"><tr id="type-term.term_ty" class="anchored"><td class="def field"><a href="#type-term.term_ty" class="anchor"></a><code>term_ty : <a href="index.html#type-ty">ty</a>;</code></td></tr><tr id="type-term.term_descr" class="anchored"><td class="def field"><a href="#type-term.term_descr" class="anchor"></a><code>term_descr : <a href="index.html#type-term_descr">term_descr</a>;</code></td></tr><tr id="type-term.term_hash" class="anchored"><td class="def field"><a href="#type-term.term_hash" class="anchor"></a><code><span class="keyword">mutable</span> term_hash : <a href="index.html#type-hash">hash</a>;</code></td></tr><tr id="type-term.term_tags" class="anchored"><td class="def field"><a href="#type-term.term_tags" class="anchor"></a><code><span class="keyword">mutable</span> term_tags : <a href="../Tag/index.html#type-map">Tag.map</a>;</code></td></tr></table><code>}</code></dt><dd><p>Term, which wrap term descriptions.</p></dd></dl><dl><dt class="spec type" id="type-formula"><a href="#type-formula" class="anchor"></a><code><span class="keyword">and</span> formula</code><code> = <a href="index.html#type-term">term</a></code></dt><dd><p>Alias for signature compatibility (with Dolmen_loop.Pipes.Make for instance).</p></dd></dl></section></section><section><header><h3 id="exceptions"><a href="#exceptions" class="anchor"></a>Exceptions</h3></header><dl><dt class="spec exception" id="exception-Already_aliased"><a href="#exception-Already_aliased" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Already_aliased</span> <span class="keyword">of</span> <a href="index.html#type-ty_cst">ty_cst</a></code></dt><dt class="spec exception" id="exception-Type_already_defined"><a href="#exception-Type_already_defined" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Type_already_defined</span> <span class="keyword">of</span> <a href="index.html#type-ty_cst">ty_cst</a></code></dt><dt class="spec exception" id="exception-Record_type_expected"><a href="#exception-Record_type_expected" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Record_type_expected</span> <span class="keyword">of</span> <a href="index.html#type-ty_cst">ty_cst</a></code></dt></dl></section><section><header><h3 id="native-tags"><a href="#native-tags" class="anchor"></a>Native Tags</h3></header><div class="spec module" id="module-Tags"><a href="#module-Tags" class="anchor"></a><code><span class="keyword">module</span> <a href="Tags/index.html">Tags</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="printing"><a href="#printing" class="anchor"></a>Printing</h3></header><div class="spec module" id="module-Print"><a href="#module-Print" class="anchor"></a><code><span class="keyword">module</span> <a href="Print/index.html">Print</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="substitutions"><a href="#substitutions" class="anchor"></a>Substitutions</h3></header><div class="spec module" id="module-Subst"><a href="#module-Subst" class="anchor"></a><code><span class="keyword">module</span> <a href="Subst/index.html">Subst</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="identifiers"><a href="#identifiers" class="anchor"></a>Identifiers</h3></header><div class="spec module" id="module-Id"><a href="#module-Id" class="anchor"></a><code><span class="keyword">module</span> <a href="Id/index.html">Id</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="types"><a href="#types" class="anchor"></a>Types</h3></header><div class="spec module" id="module-Ty"><a href="#module-Ty" class="anchor"></a><code><span class="keyword">module</span> <a href="Ty/index.html">Ty</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="terms"><a href="#terms" class="anchor"></a>Terms</h3></header><div class="spec module" id="module-Term"><a href="#module-Term" class="anchor"></a><code><span class="keyword">module</span> <a href="Term/index.html">Term</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>